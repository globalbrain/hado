// @ts-self-types="https://esm.sh/@sentry/deno@9.27.0/build/esm/index.d.ts"
var d=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var j="9.27.0";var _=globalThis;function v(){return ve(_),_}function ve(e){let t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||j,t[j]=t[j]||{}}function ye(e,t,n=_){let r=n.__SENTRY__=n.__SENTRY__||{},o=r[j]=r[j]||{};return o[e]||(o[e]=t())}import{patchGlobal as xs}from"npm:@brc-dd/globals@^0.1.0";var co=Object.prototype.toString;function k(e){switch(co.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return z(e,Error)}}function xt(e,t){return co.call(e)===`[object ${t}]`}function xn(e){return xt(e,"ErrorEvent")}function Ie(e){return xt(e,"String")}function Ae(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function xe(e){return e===null||Ae(e)||typeof e!="object"&&typeof e!="function"}function B(e){return xt(e,"Object")}function bn(e){return typeof Event<"u"&&z(e,Event)}function Rn(e){return typeof Element<"u"&&z(e,Element)}function Nn(e){return xt(e,"RegExp")}function $(e){return!!(e?.then&&typeof e.then=="function")}function Cn(e){return B(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function z(e,t){try{return e instanceof t}catch{return!1}}function Qe(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function On(e){return typeof Request<"u"&&z(e,Request)}var Es=_,Ts=80;function vn(e,t={}){if(!e)return"<unknown>";try{let n=e,r=5,o=[],i=0,s=0,a=" > ",c=a.length,u,p=Array.isArray(t)?t:t.keyAttrs,l=!Array.isArray(t)&&t.maxStringLength||Ts;for(;n&&i++<r&&(u=ys(n,p),!(u==="html"||i>1&&s+o.length*c+u.length>=l));)o.push(u),s+=u.length,n=n.parentNode;return o.reverse().join(a)}catch{return"<unknown>"}}function ys(e,t){let n=e,r=[];if(!n?.tagName)return"";if(Es.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());let o=t?.length?t.filter(s=>n.getAttribute(s)).map(s=>[s,n.getAttribute(s)]):null;if(o?.length)o.forEach(s=>{r.push(`[${s[0]}="${s[1]}"]`)});else{n.id&&r.push(`#${n.id}`);let s=n.className;if(s&&Ie(s)){let a=s.split(/\s+/);for(let c of a)r.push(`.${c}`)}}let i=["aria-label","type","name","title","alt"];for(let s of i){let a=n.getAttribute(s);a&&r.push(`[${s}="${a}"]`)}return r.join("")}var Is="Sentry Logger ",K=["debug","info","warn","error","log","assert","trace"],Le={};function Y(e){if(!("console"in _))return e();let t=_.console,n={},r=Object.keys(Le);r.forEach(o=>{let i=Le[o];n[o]=t[o],t[o]=i});try{return e()}finally{r.forEach(o=>{t[o]=n[o]})}}function As(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return d?K.forEach(n=>{t[n]=(...r)=>{e&&Y(()=>{_.console[n](`${Is}[${n}]:`,...r)})}}):K.forEach(n=>{t[n]=()=>{}}),t}var f=ye("logger",As);function W(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function et(e,t){let n=e,r=n.length;if(r<=150)return n;t>r&&(t=r);let o=Math.max(t-60,0);o<5&&(o=0);let i=Math.min(o+140,r);return i>r-5&&(i=r),i===r&&(o=Math.max(i-140,0)),n=n.slice(o,i),o>0&&(n=`'{snip} ${n}`),i<r&&(n+=" {snip}"),n}function X(e,t){if(!Array.isArray(e))return"";let n=[];for(let r=0;r<e.length;r++){let o=e[r];try{Qe(o)?n.push("[VueViewModel]"):n.push(String(o))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function uo(e,t,n=!1){return Ie(e)?Nn(t)?t.test(e):Ie(t)?n?e===t:e.includes(t):!1:!1}function Be(e,t=[],n=!1){return t.some(r=>uo(e,r,n))}function tt(e,t,n){function r(i){if(!(t in i))return;let s=i[t],a=n(s);typeof a=="function"&&lo(a,s);try{i[t]=a}catch(c){d&&f.log(`Failed to replace method "${t}" in object`,i,c)}return i}let o=Object.prototype.toString.call(e);o==="[object console]"?o="console":o==="[object Window]"?o="globalThis":o=void 0,o?xs(o,r):r(e)}function b(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{d&&f.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function lo(e,t){try{let n=t.prototype||{};e.prototype=t.prototype=n,b(e,"__sentry_original__",t)}catch{}}function wn(e){return e.__sentry_original__}function bt(e){if(k(e))return{message:e.message,name:e.name,stack:e.stack,...fo(e)};if(bn(e)){let t={type:e.type,target:po(e.target),currentTarget:po(e.currentTarget),...fo(e)};return typeof CustomEvent<"u"&&z(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function po(e){try{return Rn(e)?vn(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function fo(e){if(typeof e=="object"&&e!==null){let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function Dn(e,t=40){let n=Object.keys(bt(e));n.sort();let r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return W(r,t);for(let o=n.length;o>0;o--){let i=n.slice(0,o).join(", ");if(!(i.length>t))return o===n.length?i:W(i,t)}return""}function bs(){let e=_;return e.crypto||e.msCrypto}function A(e=bs()){let t=()=>Math.random()*16;try{if(e?.randomUUID)return e.randomUUID().replace(/-/g,"");e?.getRandomValues&&(t=()=>{let n=new Uint8Array(1);return e.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(t()&15)>>n/4).toString(16))}function mo(e){return e.exception?.values?.[0]}function oe(e){let{message:t,event_id:n}=e;if(t)return t;let r=mo(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Mn(e,t,n){let r=e.exception=e.exception||{},o=r.values=r.values||[],i=o[0]=o[0]||{};i.value||(i.value=t||""),i.type||(i.type=n||"Error")}function be(e,t){let n=mo(e);if(!n)return;let r={type:"generic",handled:!0},o=n.mechanism;if(n.mechanism={...r,...o,...t},t&&"data"in t){let i={...o?.data,...t.data};n.mechanism.data=i}}function Pn(e,t,n=5){if(t.lineno===void 0)return;let r=e.length,o=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,o-n),o).map(s=>et(s,0));let i=Math.min(r-1,o);t.context_line=et(e[i],t.colno||0),t.post_context=e.slice(Math.min(o+1,r),o+1+n).map(s=>et(s,0))}function Rt(e){if(Rs(e))return!0;try{b(e,"__sentry_captured__",!0)}catch{}return!1}function Rs(e){try{return e.__sentry_captured__}catch{}}var go=1e3;function ie(){return Date.now()/go}function Ns(){let{performance:e}=_;if(!e?.now)return ie;let t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/go}var R=Ns();function kn(e){let t=R(),n={sid:A(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Cs(n)};return e&&se(n,e),n}function se(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||R(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:A()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{let n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Un(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),se(e,n)}function Cs(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function Re(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;let r={...e};for(let o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=Re(r[o],t[o],n-1));return r}var Fn="_sentrySpan";function Ne(e,t){t?b(e,Fn,t):delete e[Fn]}function de(e){return e[Fn]}function H(){return A()}function Z(){return A().substring(16)}var Os=100,D=class e{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:H(),sampleRand:Math.random()}}clone(){let t=new e;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,Ne(t,de(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&se(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;let n=typeof t=="function"?t(this):t,r=n instanceof e?n.getScopeData():B(n)?t:void 0,{tags:o,extra:i,user:s,contexts:a,level:c,fingerprint:u=[],propagationContext:p}=r||{};return this._tags={...this._tags,...o},this._extra={...this._extra,...i},this._contexts={...this._contexts,...a},s&&Object.keys(s).length&&(this._user=s),c&&(this._level=c),u.length&&(this._fingerprint=u),p&&(this._propagationContext=p),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,Ne(this,void 0),this._attachments=[],this.setPropagationContext({traceId:H(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){let r=typeof n=="number"?n:Os;if(r<=0)return this;let o={timestamp:ie(),...t,message:t.message?W(t.message,2048):t.message};return this._breadcrumbs.push(o),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:de(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=Re(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){let r=n?.event_id||A();if(!this._client)return f.warn("No client configured on scope - will not capture exception!"),r;let o=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:o,...n,event_id:r},this),r}captureMessage(t,n,r){let o=r?.event_id||A();if(!this._client)return f.warn("No client configured on scope - will not capture message!"),o;let i=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:o},this),o}captureEvent(t,n){let r=n?.event_id||A();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(f.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}};function Ln(){return ye("defaultCurrentScope",()=>new D)}function Bn(){return ye("defaultIsolationScope",()=>new D)}var $n=class{constructor(t,n){let r;t?r=t:r=new D;let o;n?o=n:o=new D,this._stack=[{scope:r}],this._isolationScope=o}withScope(t){let n=this._pushScope(),r;try{r=t(n)}catch(o){throw this._popScope(),o}return $(r)?r.then(o=>(this._popScope(),o),o=>{throw this._popScope(),o}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}};function $e(){let e=v(),t=ve(e);return t.stack=t.stack||new $n(Ln(),Bn())}function vs(e){return $e().withScope(e)}function ws(e,t){let n=$e();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function _o(e){return $e().withScope(()=>e($e().getIsolationScope()))}function ho(){return{withIsolationScope:_o,withScope:vs,withSetScope:ws,withSetIsolationScope:(e,t)=>_o(t),getCurrentScope:()=>$e().getScope(),getIsolationScope:()=>$e().getIsolationScope()}}function J(e){let t=ve(e);return t.acs?t.acs:ho()}function E(){let e=v();return J(e).getCurrentScope()}function y(){let e=v();return J(e).getIsolationScope()}function He(){return ye("globalScope",()=>new D)}function U(...e){let t=v(),n=J(t);if(e.length===2){let[r,o]=e;return r?n.withSetScope(r,o):n.withScope(o)}return n.withScope(e[0])}function nt(...e){let t=v(),n=J(t);if(e.length===2){let[r,o]=e;return r?n.withSetIsolationScope(r,o):n.withIsolationScope(o)}return n.withIsolationScope(e[0])}function h(){return E().getClient()}function Nt(e){let t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:o}=t,i={trace_id:n,span_id:o||Z()};return r&&(i.parent_span_id=r),i}var O="sentry.source",Ge="sentry.sample_rate",Hn="sentry.previous_trace_sample_rate",M="sentry.op",N="sentry.origin";var Ct="sentry.measurement_unit",Ot="sentry.measurement_value",je="sentry.custom_span_name",ze="sentry.profile_id",Ye="sentry.exclusive_time";function Gn(e){if(e<400&&e>=100)return{code:1};if(e>=400&&e<500)switch(e){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}function We(e,t){e.setAttribute("http.response.status_code",t);let n=Gn(t);n.message!=="unknown_error"&&e.setStatus(n)}var So="_sentryScope",Eo="_sentryIsolationScope";function jn(e,t,n){e&&(b(e,Eo,n),b(e,So,t))}function Ce(e){return{scope:e[So],isolationScope:e[Eo]}}function ae(e){if(typeof e=="boolean")return Number(e);let t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}var vt="sentry-",yo=/^sentry-/,Io=8192;function rt(e){let t=Ao(e);if(!t)return;let n=Object.entries(t).reduce((r,[o,i])=>{if(o.match(yo)){let s=o.slice(vt.length);r[s]=i}return r},{});if(Object.keys(n).length>0)return n}function ot(e){if(!e)return;let t=Object.entries(e).reduce((n,[r,o])=>(o&&(n[`${vt}${r}`]=o),n),{});return xo(t)}function Ao(e){if(!(!e||!Ie(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{let r=To(n);return Object.entries(r).forEach(([o,i])=>{t[o]=i}),t},{}):To(e)}function To(e){return e.split(",").map(t=>t.split("=").map(n=>{try{return decodeURIComponent(n.trim())}catch{return}})).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function xo(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],o)=>{let i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,s=o===0?i:`${t},${i}`;return s.length>Io?(d&&f.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):s},"")}var wt=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function bo(e){if(!e)return;let t=e.match(wt);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function zn(e,t){let n=bo(e),r=rt(t);if(!n?.traceId)return{traceId:H(),sampleRand:Math.random()};let o=Ds(n,r);r&&(r.sample_rand=o.toString());let{traceId:i,parentSpanId:s,parentSampled:a}=n;return{traceId:i,parentSpanId:s,sampled:a,dsc:r||{},sampleRand:o}}function it(e=H(),t=Z(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function Ds(e,t){let n=ae(t?.sample_rand);if(n!==void 0)return n;let r=ae(t?.sample_rate);return r&&e?.parentSampled!==void 0?e.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}var Mt=0,Pt=1,Ro=!1;function Oo(e){let{spanId:t,traceId:n}=e.spanContext(),{data:r,op:o,parent_span_id:i,status:s,origin:a,links:c}=I(e);return{parent_span_id:i,span_id:t,trace_id:n,data:r,op:o,status:s,origin:a,links:c}}function at(e){let{spanId:t,traceId:n,isRemote:r}=e.spanContext(),o=r?t:I(e).parent_span_id,i=Ce(e).scope,s=r?i?.getPropagationContext().propagationSpanId||Z():t;return{parent_span_id:o,span_id:s,trace_id:n}}function kt(e){let{traceId:t,spanId:n}=e.spanContext(),r=ue(e);return it(t,n,r)}function Ut(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:r,...o},attributes:i})=>({span_id:t,trace_id:n,sampled:r===Pt,attributes:i,...o}))}function ce(e){return typeof e=="number"?No(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?No(e.getTime()):R()}function No(e){return e>9999999999?e/1e3:e}function I(e){if(Ps(e))return e.getSpanJSON();let{spanId:t,traceId:n}=e.spanContext();if(Ms(e)){let{attributes:r,startTime:o,name:i,endTime:s,status:a,links:c}=e,u="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?e.parentSpanContext?.spanId:void 0;return{span_id:t,trace_id:n,data:r,description:i,parent_span_id:u,start_timestamp:ce(o),timestamp:ce(s)||void 0,status:Ft(a),op:r[M],origin:r[N],links:Ut(c)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function Ms(e){let t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function Ps(e){return typeof e.getSpanJSON=="function"}function ue(e){let{traceFlags:t}=e.spanContext();return t===Pt}function Ft(e){if(!(!e||e.code===0))return e.code===1?"ok":e.message||"unknown_error"}var st="_sentryChildSpans",Yn="_sentryRootSpan";function Lt(e,t){let n=e[Yn]||e;b(t,Yn,n),e[st]?e[st].add(t):b(e,st,new Set([t]))}function Bt(e){let t=new Set;function n(r){if(!t.has(r)&&ue(r)){t.add(r);let o=r[st]?Array.from(r[st]):[];for(let i of o)n(i)}}return n(e),Array.from(t)}function C(e){return e[Yn]||e}function F(){let e=v(),t=J(e);return t.getActiveSpan?t.getActiveSpan():de(E())}function ct(){Ro||(Y(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")}),Ro=!0)}function vo(e,t){e.updateName(t),e.setAttributes({[O]:"custom",[je]:t})}var ut="?",wo=/\(error: (.*)\)/,Do=/captureMessage|captureException/;function Je(...e){let t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,o=0)=>{let i=[],s=n.split(`
`);for(let a=r;a<s.length;a++){let c=s[a];if(c.length>1024)continue;let u=wo.test(c)?c.replace(wo,"$1"):c;if(!u.match(/\S*Error: /)){for(let p of t){let l=p(u);if(l){i.push(l);break}}if(i.length>=50+o)break}}return Mo(i.slice(o))}}function Jn(e){return Array.isArray(e)?Je(...e):e}function Mo(e){if(!e.length)return[];let t=Array.from(e);return/sentryWrapped/.test($t(t).function||"")&&t.pop(),t.reverse(),Do.test($t(t).function||"")&&(t.pop(),Do.test($t(t).function||"")&&t.pop()),t.slice(0,50).map(n=>({...n,filename:n.filename||$t(t).filename,function:n.function||ut}))}function $t(e){return e[e.length-1]||{}}var Wn="<anonymous>";function pt(e){try{return!e||typeof e!="function"?Wn:e.name||Wn}catch{return Wn}}function qe(e){let t=e.exception;if(t){let n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}var Ht={},Po={};function le(e,t){Ht[e]=Ht[e]||[],Ht[e].push(t)}function me(e,t){if(!Po[e]){Po[e]=!0;try{t()}catch(n){d&&f.error(`Error while instrumenting ${e}`,n)}}}function Q(e,t){let n=e&&Ht[e];if(n)for(let r of n)try{r(t)}catch(o){d&&f.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${pt(r)}
Error:`,o)}}var qn=null;function Vn(e){let t="error";le(t,e),me(t,ks)}function ks(){qn=_.onerror,_.onerror=function(e,t,n,r,o){return Q("error",{column:r,error:o,line:n,msg:e,url:t}),qn?qn.apply(this,arguments):!1},_.onerror.__SENTRY_INSTRUMENTED__=!0}var Kn=null;function Xn(e){let t="unhandledrejection";le(t,e),me(t,Us)}function Us(){Kn=_.onunhandledrejection,_.onunhandledrejection=function(e){return Q("unhandledrejection",e),Kn?Kn.apply(this,arguments):!0},_.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}var ko=!1;function Qn(){ko||(ko=!0,Vn(Zn),Xn(Zn))}function Zn(){let e=F(),t=e&&C(e);if(t){let n="internal_error";d&&f.log(`[Tracing] Root span: ${n} -> Global error occurred`),t.setStatus({code:2,message:n})}}Zn.tag="sentry_tracingErrorCallback";function ge(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let t=e||h()?.getOptions();return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}var we="production";var Fs=/^o(\d+)\./,Ls=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Bs(e){return e==="http"||e==="https"}function G(e,t=!1){let{host:n,path:r,pass:o,port:i,projectId:s,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&o?`:${o}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${s}`}function er(e){let t=Ls.exec(e);if(!t){Y(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}let[n,r,o="",i="",s="",a=""]=t.slice(1),c="",u=a,p=u.split("/");if(p.length>1&&(c=p.slice(0,-1).join("/"),u=p.pop()),u){let l=u.match(/^\d+/);l&&(u=l[0])}return Uo({host:i,pass:o,path:c,projectId:u,port:s,protocol:n,publicKey:r})}function Uo(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function $s(e){if(!d)return!0;let{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(s=>e[s]?!1:(f.error(`Invalid Sentry Dsn: ${s} missing`),!0))?!1:n.match(/^\d+$/)?Bs(r)?t&&isNaN(parseInt(t,10))?(f.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(f.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(f.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function Fo(e){return e.match(Fs)?.[1]}function Gt(e){let t=typeof e=="string"?er(e):Uo(e);if(!(!t||!$s(t)))return t}var Lo="_frozenDsc";function ft(e,t){b(e,Lo,t)}function tr(e,t){let n=t.getOptions(),{publicKey:r,host:o}=t.getDsn()||{},i;n.orgId?i=String(n.orgId):o&&(i=Fo(o));let s={environment:n.environment||we,release:n.release,public_key:r,trace_id:e,org_id:i};return t.emit("createDsc",s),s}function Ve(e,t){let n=t.getPropagationContext();return n.dsc||tr(n.traceId,e)}function w(e){let t=h();if(!t)return{};let n=C(e),r=I(n),o=r.data,i=n.spanContext().traceState,s=i?.get("sentry.sample_rate")??o[Ge]??o[Hn];function a(S){return(typeof s=="number"||typeof s=="string")&&(S.sample_rate=`${s}`),S}let c=n[Lo];if(c)return a(c);let u=i?.get("sentry.dsc"),p=u&&rt(u);if(p)return a(p);let l=tr(e.spanContext().traceId,t),g=o[O],m=r.description;return g!=="url"&&m&&(l.transaction=m),ge()&&(l.sampled=String(ue(n)),l.sample_rand=i?.get("sentry.sample_rand")??Ce(n).scope?.getPropagationContext().sampleRand.toString()),a(l),t.emit("createDsc",l,n),l}function Bo(e){let t=w(e);return ot(t)}var ee=class{constructor(t={}){this._traceId=t.traceId||H(),this._spanId=t.spanId||Z()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:Mt}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}};function jt(e,t,n=()=>{}){let r;try{r=e()}catch(o){throw t(o),n(),o}return Hs(r,t,n)}function Hs(e,t,n){return $(e)?e.then(r=>(n(),r),r=>{throw t(r),n(),r}):(n(),e)}function nr(e){if(!d)return;let{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=I(e),{spanId:o}=e.spanContext(),i=ue(e),s=C(e),a=s===e,c=`[Tracing] Starting ${i?"sampled":"unsampled"} ${a?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${o}`];if(r&&u.push(`parent ID: ${r}`),!a){let{op:p,description:l}=I(s);u.push(`root ID: ${s.spanContext().spanId}`),p&&u.push(`root op: ${p}`),l&&u.push(`root description: ${l}`)}f.log(`${c}
  ${u.join(`
  `)}`)}function rr(e){if(!d)return;let{description:t="< unknown name >",op:n="< unknown op >"}=I(e),{spanId:r}=e.spanContext(),i=C(e)===e,s=`[Tracing] Finishing "${n}" ${i?"root ":""}span "${t}" with ID ${r}`;f.log(s)}function or(e,t,n){if(!ge(e))return[!1];let r,o;typeof e.tracesSampler=="function"?(o=e.tracesSampler({...t,inheritOrSampleWith:a=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):a}),r=!0):t.parentSampled!==void 0?o=t.parentSampled:typeof e.tracesSampleRate<"u"&&(o=e.tracesSampleRate,r=!0);let i=ae(o);if(i===void 0)return d&&f.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(o)} of type ${JSON.stringify(typeof o)}.`),[!1];if(!i)return d&&f.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,i,r];let s=n<i;return s||d&&f.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(o)})`),[s,i,r]}function P(e,t=100,n=1/0){try{return ir("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function zt(e,t=3,n=100*1024){let r=P(e,t);return Ys(r)>n?zt(e,t-1,n):r}function ir(e,t,n=1/0,r=1/0,o=Ws()){let[i,s]=o;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;let a=Gs(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;let c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(i(t))return"[Circular ~]";let u=t;if(u&&typeof u.toJSON=="function")try{let m=u.toJSON();return ir("",m,c-1,r,o)}catch{}let p=Array.isArray(t)?[]:{},l=0,g=bt(t);for(let m in g){if(!Object.prototype.hasOwnProperty.call(g,m))continue;if(l>=r){p[m]="[MaxProperties ~]";break}let S=g[m];p[m]=ir(m,S,c-1,r,o),l++}return s(t),p}function Gs(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(Qe(t))return"[VueViewModel]";if(Cn(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${pt(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;let n=js(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function js(e){let t=Object.getPrototypeOf(e);return t?.constructor?t.constructor.name:"null prototype"}function zs(e){return~-encodeURI(e).split(/%..|./).length}function Ys(e){return zs(JSON.stringify(e))}function Ws(){let e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function L(e,t=[]){return[e,t]}function ar(e,t){let[n,r]=e;return[n,[...r,t]]}function _e(e,t){let n=e[1];for(let r of n){let o=r[0].type;if(t(r,o))return!0}return!1}function sr(e){let t=ve(_);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function cr(e){let[t,n]=e,r=JSON.stringify(t);function o(i){typeof r=="string"?r=typeof i=="string"?r+i:[sr(r),i]:r.push(typeof i=="string"?sr(i):i)}for(let i of n){let[s,a]=i;if(o(`
${JSON.stringify(s)}
`),typeof a=="string"||a instanceof Uint8Array)o(a);else{let c;try{c=JSON.stringify(a)}catch{c=JSON.stringify(P(a))}o(c)}}return typeof r=="string"?r:Js(r)}function Js(e){let t=e.reduce((o,i)=>o+i.length,0),n=new Uint8Array(t),r=0;for(let o of e)n.set(o,r),r+=o.length;return n}function ur(e){return[{type:"span"},e]}function pr(e){let t=typeof e.data=="string"?sr(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}var qs={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function Yt(e){return qs[e]}function Wt(e){if(!e?.sdk)return;let{name:t,version:n}=e.sdk;return{name:t,version:n}}function fr(e,t,n,r){let o=e.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:G(r)},...o&&{trace:o}}}function Vs(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function dr(e,t,n,r){let o=Wt(n),i={sent_at:new Date().toISOString(),...o&&{sdk:o},...!!r&&t&&{dsn:G(t)}},s="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return L(i,[s])}function lr(e,t,n,r){let o=Wt(n),i=e.type&&e.type!=="replay_event"?e.type:"event";Vs(e,n?.sdk);let s=fr(e,o,r,t);return delete e.sdkProcessingMetadata,L(s,[[{type:i},e]])}function mr(e,t){function n(p){return!!p.trace_id&&!!p.public_key}let r=w(e[0]),o=t?.getDsn(),i=t?.getOptions().tunnel,s={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!i&&o&&{dsn:G(o)}},a=t?.getOptions().beforeSendSpan,c=a?p=>{let l=I(p),g=a(l);return g||(ct(),l)}:I,u=[];for(let p of e){let l=c(p);l&&u.push(ur(l))}return L(s,u)}function $o(e,t,n,r=F()){let o=r&&C(r);o&&(d&&f.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),o.addEvent(e,{[Ot]:t,[Ct]:n}))}function Jt(e){if(!e||e.length===0)return;let t={};return e.forEach(n=>{let r=n.attributes||{},o=r[Ct],i=r[Ot];typeof o=="string"&&typeof i=="number"&&(t[n.name]={value:i,unit:o})}),t}var Ho=1e3,De=class{constructor(t={}){this._traceId=t.traceId||H(),this._spanId=t.spanId||Z(),this._startTime=t.startTimestamp||R(),this._links=t.links,this._attributes={},this.setAttributes({[N]:"manual",[M]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,n){}spanContext(){let{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?Pt:Mt}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=ce(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(O,"custom"),this}end(t){this._endTime||(this._endTime=ce(t),rr(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[M],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:Ft(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[N],profile_id:this._attributes[ze],exclusive_time:this._attributes[Ye],measurements:Jt(this._events),is_segment:this._isStandaloneSpan&&C(this)===this||void 0,segment_id:this._isStandaloneSpan?C(this).spanContext().spanId:void 0,links:Ut(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){d&&f.log("[Tracing] Adding an event to span:",t);let o=Go(n)?n:r||R(),i=Go(n)?{}:n||{},s={name:t,time:ce(o),attributes:i};return this._events.push(s),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){let t=h();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===C(this)))return;if(this._isStandaloneSpan){this._sampled?Xs(mr([this],t)):(d&&f.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}let r=this._convertSpanToTransaction();r&&(Ce(this).scope||E()).captureEvent(r)}_convertSpanToTransaction(){if(!jo(I(this)))return;this._name||(d&&f.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");let{scope:t,isolationScope:n}=Ce(this),r=t?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(this._sampled!==!0)return;let i=Bt(this).filter(p=>p!==this&&!Ks(p)).map(p=>I(p)).filter(jo),s=this._attributes[O];delete this._attributes[je],i.forEach(p=>{delete p.data[je]});let a={contexts:{trace:Oo(this)},spans:i.length>Ho?i.sort((p,l)=>p.start_timestamp-l.start_timestamp).slice(0,Ho):i,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:w(this)},request:r,...s&&{transaction_info:{source:s}}},c=Jt(this._events);return c&&Object.keys(c).length&&(d&&f.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),a.measurements=c),a}};function Go(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function jo(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function Ks(e){return e instanceof De&&e.isStandaloneSpan()}function Xs(e){let t=h();if(!t)return;let n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}var gr="__SENTRY_SUPPRESS_TRACING__";function he(e,t){let n=dt();if(n.startSpan)return n.startSpan(e,t);let r=Sr(e),{forceTransaction:o,parentSpan:i,scope:s}=e,a=s?.clone();return U(a,()=>Jo(i)(()=>{let u=E(),p=Er(u),g=e.onlyIfParent&&!p?new ee:hr({parentSpan:p,spanArguments:r,forceTransaction:o,scope:u});return Ne(u,g),jt(()=>t(g),()=>{let{status:m}=I(g);g.isRecording()&&(!m||m==="ok")&&g.setStatus({code:2,message:"internal_error"})},()=>{g.end()})}))}function _r(e,t){let n=dt();if(n.startSpanManual)return n.startSpanManual(e,t);let r=Sr(e),{forceTransaction:o,parentSpan:i,scope:s}=e,a=s?.clone();return U(a,()=>Jo(i)(()=>{let u=E(),p=Er(u),g=e.onlyIfParent&&!p?new ee:hr({parentSpan:p,spanArguments:r,forceTransaction:o,scope:u});return Ne(u,g),jt(()=>t(g,()=>g.end()),()=>{let{status:m}=I(g);g.isRecording()&&(!m||m==="ok")&&g.setStatus({code:2,message:"internal_error"})})}))}function qt(e){let t=dt();if(t.startInactiveSpan)return t.startInactiveSpan(e);let n=Sr(e),{forceTransaction:r,parentSpan:o}=e;return(e.scope?s=>U(e.scope,s):o!==void 0?s=>Ke(o,s):s=>s())(()=>{let s=E(),a=Er(s);return e.onlyIfParent&&!a?new ee:hr({parentSpan:a,spanArguments:n,forceTransaction:r,scope:s})})}var Yo=(e,t)=>{let n=v(),r=J(n);if(r.continueTrace)return r.continueTrace(e,t);let{sentryTrace:o,baggage:i}=e;return U(s=>{let a=zn(o,i);return s.setPropagationContext(a),t()})};function Ke(e,t){let n=dt();return n.withActiveSpan?n.withActiveSpan(e,t):U(r=>(Ne(r,e||void 0),t(r)))}function Vt(e){let t=dt();return t.suppressTracing?t.suppressTracing(e):U(n=>(n.setSDKProcessingMetadata({[gr]:!0}),e()))}function Wo(e){return U(t=>(t.setPropagationContext({traceId:H(),sampleRand:Math.random()}),d&&f.info(`Starting a new trace with id ${t.getPropagationContext().traceId}`),Ke(null,e)))}function hr({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!ge()){let s=new ee;if(n||!e){let a={sampled:"false",sample_rate:"0",transaction:t.name,...w(s)};ft(s,a)}return s}let o=y(),i;if(e&&!n)i=Zs(e,r,t),Lt(e,i);else if(e){let s=w(e),{traceId:a,spanId:c}=e.spanContext(),u=ue(e);i=zo({traceId:a,parentSpanId:c,...t},r,u),ft(i,s)}else{let{traceId:s,dsc:a,parentSpanId:c,sampled:u}={...o.getPropagationContext(),...r.getPropagationContext()};i=zo({traceId:s,parentSpanId:c,...t},r,u),a&&ft(i,a)}return nr(i),jn(i,r,o),i}function Sr(e){let n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){let r={...n};return r.startTimestamp=ce(e.startTime),delete r.startTime,r}return n}function dt(){let e=v();return J(e)}function zo(e,t,n){let r=h(),o=r?.getOptions()||{},{name:i=""}=e,s={spanAttributes:{...e.attributes},spanName:i,parentSampled:n};r?.emit("beforeSampling",s,{decision:!1});let a=s.parentSampled??n,c=s.spanAttributes,u=t.getPropagationContext(),[p,l,g]=t.getScopeData().sdkProcessingMetadata[gr]?[!1]:or(o,{name:i,parentSampled:a,attributes:c,parentSampleRate:ae(u.dsc?.sample_rate)},u.sampleRand),m=new De({...e,attributes:{[O]:"custom",[Ge]:l!==void 0&&g?l:void 0,...c},sampled:p});return!p&&r&&(d&&f.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",m),m}function Zs(e,t,n){let{spanId:r,traceId:o}=e.spanContext(),i=t.getScopeData().sdkProcessingMetadata[gr]?!1:ue(e),s=i?new De({...n,parentSpanId:r,traceId:o,sampled:i}):new ee({traceId:o});Lt(e,s);let a=h();return a&&(a.emit("spanStart",s),n.endTimestamp&&a.emit("spanEnd",s)),s}function Er(e){let t=de(e);if(!t)return;let n=h();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?C(t):t}function Jo(e){return e!==void 0?t=>Ke(e,t):t=>t()}var Se;(function(e){e[e.PENDING=0]="PENDING";let n=1;e[e.RESOLVED=n]="RESOLVED";let r=2;e[e.REJECTED=r]="REJECTED"})(Se||(Se={}));function q(e){return new te(t=>{t(e)})}function Me(e){return new te((t,n)=>{n(e)})}var te=class e{constructor(t){this._state=Se.PENDING,this._handlers=[],this._runExecutor(t)}then(t,n){return new e((r,o)=>{this._handlers.push([!1,i=>{if(!t)r(i);else try{r(t(i))}catch(s){o(s)}},i=>{if(!n)o(i);else try{r(n(i))}catch(s){o(s)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new e((n,r)=>{let o,i;return this.then(s=>{i=!1,o=s,t&&t()},s=>{i=!0,o=s,t&&t()}).then(()=>{if(i){r(o);return}n(o)})})}_executeHandlers(){if(this._state===Se.PENDING)return;let t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Se.RESOLVED&&n[1](this._value),this._state===Se.REJECTED&&n[2](this._value),n[0]=!0)})}_runExecutor(t){let n=(i,s)=>{if(this._state===Se.PENDING){if($(s)){s.then(r,o);return}this._state=i,this._value=s,this._executeHandlers()}},r=i=>{n(Se.RESOLVED,i)},o=i=>{n(Se.REJECTED,i)};try{t(r,o)}catch(i){o(i)}}};function lt(e,t,n,r=0){return new te((o,i)=>{let s=e[r];if(t===null||typeof s!="function")o(t);else{let a=s({...t},n);d&&s.id&&a===null&&f.log(`Event processor "${s.id}" dropped event`),$(a)?a.then(c=>lt(e,c,n,r+1).then(o)).then(null,i):lt(e,a,n,r+1).then(o).then(null,i)}})}var Kt,qo,Xt;function Tr(e){let t=_._sentryDebugIds;if(!t)return{};let n=Object.keys(t);return Xt&&n.length===qo||(qo=n.length,Xt=n.reduce((r,o)=>{Kt||(Kt={});let i=Kt[o];if(i)r[i[0]]=i[1];else{let s=e(o);for(let a=s.length-1;a>=0;a--){let u=s[a]?.filename,p=t[o];if(u&&p){r[u]=p,Kt[o]=[u,p];break}}}return r},{})),Xt}function yr(e,t){let{fingerprint:n,span:r,breadcrumbs:o,sdkProcessingMetadata:i}=t;ea(e,t),r&&ra(e,r),oa(e,n),ta(e,o),na(e,i)}function Pe(e,t){let{extra:n,tags:r,user:o,contexts:i,level:s,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:p,attachments:l,propagationContext:g,transactionName:m,span:S}=t;Zt(e,"extra",n),Zt(e,"tags",r),Zt(e,"user",o),Zt(e,"contexts",i),e.sdkProcessingMetadata=Re(e.sdkProcessingMetadata,a,2),s&&(e.level=s),m&&(e.transactionName=m),S&&(e.span=S),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),p.length&&(e.eventProcessors=[...e.eventProcessors,...p]),l.length&&(e.attachments=[...e.attachments,...l]),e.propagationContext={...e.propagationContext,...g}}function Zt(e,t,n){e[t]=Re(e[t],n,1)}function ea(e,t){let{extra:n,tags:r,user:o,contexts:i,level:s,transactionName:a}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(o).length&&(e.user={...o,...e.user}),Object.keys(i).length&&(e.contexts={...i,...e.contexts}),s&&(e.level=s),a&&e.type!=="transaction"&&(e.transaction=a)}function ta(e,t){let n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function na(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function ra(e,t){e.contexts={trace:at(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:w(t),...e.sdkProcessingMetadata};let n=C(t),r=I(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function oa(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}function Ir(e,t,n,r,o,i){let{normalizeDepth:s=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||A(),timestamp:t.timestamp||ie()},u=n.integrations||e.integrations.map(T=>T.name);ia(c,e),ca(c,u),o&&o.emit("applyFrameMetadata",t),t.type===void 0&&sa(c,e.stackParser);let p=pa(r,n.captureContext);n.mechanism&&be(c,n.mechanism);let l=o?o.getEventProcessors():[],g=He().getScopeData();if(i){let T=i.getScopeData();Pe(g,T)}if(p){let T=p.getScopeData();Pe(g,T)}let m=[...n.attachments||[],...g.attachments];m.length&&(n.attachments=m),yr(c,g);let S=[...l,...g.eventProcessors];return lt(S,c,n).then(T=>(T&&aa(T),typeof s=="number"&&s>0?ua(T,s,a):T))}function ia(e,t){let{environment:n,release:r,dist:o,maxValueLength:i=250}=t;e.environment=e.environment||n||we,!e.release&&r&&(e.release=r),!e.dist&&o&&(e.dist=o);let s=e.request;s?.url&&(s.url=W(s.url,i))}function sa(e,t){let n=Tr(t);e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(o=>{o.filename&&(o.debug_id=n[o.filename])})})}function aa(e){let t={};if(e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(o=>{o.debug_id&&(o.abs_path?t[o.abs_path]=o.debug_id:o.filename&&(t[o.filename]=o.debug_id),delete o.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let n=e.debug_meta.images;Object.entries(t).forEach(([r,o])=>{n.push({type:"sourcemap",code_file:r,debug_id:o})})}function ca(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function ua(e,t,n){if(!e)return null;let r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>({...o,...o.data&&{data:P(o.data,t,n)}}))},...e.user&&{user:P(e.user,t,n)},...e.contexts&&{contexts:P(e.contexts,t,n)},...e.extra&&{extra:P(e.extra,t,n)}};return e.contexts?.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=P(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(o=>({...o,...o.data&&{data:P(o.data,t,n)}}))),e.contexts?.flags&&r.contexts&&(r.contexts.flags=P(e.contexts.flags,3,n)),r}function pa(e,t){if(!t)return e;let n=e?e.clone():new D;return n.update(t),n}function Vo(e){if(e)return fa(e)?{captureContext:e}:la(e)?{captureContext:e}:e}function fa(e){return e instanceof D||typeof e=="function"}var da=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function la(e){return Object.keys(e).some(t=>da.includes(t))}function Ee(e,t){return E().captureException(e,Vo(t))}function mt(e,t){let n=typeof t=="string"?t:void 0,r=typeof t!="string"?{captureContext:t}:void 0;return E().captureMessage(e,n,r)}function gt(e,t){return E().captureEvent(e,t)}function Ko(e,t){y().setContext(e,t)}function Xo(e){y().setExtras(e)}function Zo(e,t){y().setExtra(e,t)}function Qo(e){y().setTags(e)}function ei(e,t){y().setTag(e,t)}function ti(e){y().setUser(e)}function ni(){return y().lastEventId()}function Qt(e,t){let n=E(),r=h();if(!r)d&&f.warn("Cannot capture check-in. No client defined.");else if(!r.captureCheckIn)d&&f.warn("Cannot capture check-in. Client does not support sending check-ins.");else return r.captureCheckIn(e,t,n);return A()}function en(e,t,n){let r=Qt({monitorSlug:e,status:"in_progress"},n),o=R();function i(s){Qt({monitorSlug:e,status:s,checkInId:r,duration:R()-o})}return nt(()=>{let s;try{s=t()}catch(a){throw i("error"),a}return $(s)?Promise.resolve(s).then(()=>{i("ok")},a=>{throw i("error"),a}):i("ok"),s})}async function _t(e){let t=h();return t?t.flush(e):(d&&f.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function ri(e){let t=h();return t?t.close(e):(d&&f.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function oi(){return!!h()}function tn(){let e=h();return e?.getOptions().enabled!==!1&&!!e?.getTransport()}function ii(e){y().addEventProcessor(e)}function si(e){let t=y(),n=E(),{userAgent:r}=_.navigator||{},o=kn({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),i=t.getSession();return i?.status==="ok"&&se(i,{status:"exited"}),nn(),t.setSession(o),o}function nn(){let e=y(),n=E().getSession()||e.getSession();n&&Un(n),ai(),e.setSession()}function ai(){let e=y(),t=h(),n=e.getSession();n&&t&&t.captureSession(n)}function ci(e=!1){if(e){nn();return}ai()}var ma="7";function ga(e){let t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function _a(e){return`${ga(e)}${e.projectId}/envelope/`}function ha(e,t){let n={sentry_version:ma};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function rn(e,t,n){return t||`${_a(e)}?${ha(e,n)}`}var ui=[];function Sa(e){let t={};return e.forEach(n=>{let{name:r}=n,o=t[r];o&&!o.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function Ar(e){let t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){let o=n(t);r=Array.isArray(o)?o:[o]}else r=t;return Sa(r)}function pi(e,t){let n={};return t.forEach(r=>{r&&br(e,r,n)}),n}function xr(e,t){for(let n of t)n?.afterAllSetup&&n.afterAllSetup(e)}function br(e,t,n){if(n[t.name]){d&&f.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,ui.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),ui.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){let r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(o,i)=>r(o,i,e))}if(typeof t.processEvent=="function"){let r=t.processEvent.bind(t),o=Object.assign((i,s)=>r(i,s,e),{id:t.name});e.addEventProcessor(o)}d&&f.log(`Integration installed: ${t.name}`)}function on(e){let t=[];e.message&&t.push(e.message);try{let n=e.exception.values[e.exception.values.length-1];n?.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function fi(e){let{trace_id:t,parent_span_id:n,span_id:r,status:o,origin:i,data:s,op:a}=e.contexts?.trace??{};return{data:s??{},description:e.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:o,timestamp:e.timestamp,trace_id:t??"",origin:i,profile_id:s?.[ze],exclusive_time:s?.[Ye],measurements:e.measurements,is_segment:!0}}function di(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[ze]:e.profile_id},...e.exclusive_time&&{[Ye]:e.exclusive_time}}}},measurements:e.measurements}}function Rr(e,t,n){let r=[{type:"client_report"},{timestamp:n||ie(),discarded_events:e}];return L(t?{dsn:t}:{},[r])}var li="Not capturing exception because it's already been captured.",mi="Discarded session because of missing or non-string release",hi=Symbol.for("SentryInternalError"),Si=Symbol.for("SentryDoNotSendEventError");function sn(e){return{message:e,[hi]:!0}}function Nr(e){return{message:e,[Si]:!0}}function gi(e){return!!e&&typeof e=="object"&&hi in e}function _i(e){return!!e&&typeof e=="object"&&Si in e}var ht=class{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=Gt(t.dsn):d&&f.warn("No DSN provided, client will not send events."),this._dsn){let n=rn(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){let o=A();if(Rt(t))return d&&f.log(li),o;let i={event_id:o,...n};return this._process(this.eventFromException(t,i).then(s=>this._captureEvent(s,i,r))),i.event_id}captureMessage(t,n,r,o){let i={event_id:A(),...r},s=Ae(t)?t:String(t),a=xe(t)?this.eventFromMessage(s,n,i):this.eventFromException(t,i);return this._process(a.then(c=>this._captureEvent(c,i,o))),i.event_id}captureEvent(t,n,r){let o=A();if(n?.originalException&&Rt(n.originalException))return d&&f.log(li),o;let i={event_id:o,...n},s=t.sdkProcessingMetadata||{},a=s.capturedSpanScope,c=s.capturedSpanIsolationScope;return this._process(this._captureEvent(t,i,a||r,c)),i.event_id}captureSession(t){this.sendSession(t),se(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){let n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(o=>r&&o))):q(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){let n=this._integrations[t.name];br(this,t,this._integrations),n||xr(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=lr(t,this._dsn,this._options._metadata,this._options.tunnel);for(let i of n.attachments||[])r=ar(r,pr(i));let o=this.sendEnvelope(r);o&&o.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){let{release:n,environment:r=we}=this._options;if("aggregates"in t){let i=t.attrs||{};if(!i.release&&!n){d&&f.warn(mi);return}i.release=i.release||n,i.environment=i.environment||r,t.attrs=i}else{if(!t.release&&!n){d&&f.warn(mi);return}t.release=t.release||n,t.environment=t.environment||r}this.emit("beforeSendSession",t);let o=dr(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(o)}recordDroppedEvent(t,n,r=1){if(this._options.sendClientReports){let o=`${t}:${n}`;d&&f.log(`Recording outcome: "${o}"${r>1?` (${r} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+r}}on(t,n){let r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{let o=r.indexOf(n);o>-1&&r.splice(o,1)}}emit(t,...n){let r=this._hooks[t];r&&r.forEach(o=>o(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(d&&f.error("Error while sending envelope:",n),n)):(d&&f.error("Transport disabled"),q({}))}_setupIntegrations(){let{integrations:t}=this._options;this._integrations=pi(this,t),xr(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",o=!1,i=n.exception?.values;if(i){o=!0;for(let c of i)if(c.mechanism?.handled===!1){r=!0;break}}let s=t.status==="ok";(s&&t.errors===0||s&&r)&&(se(t,{...r&&{status:"crashed"},errors:t.errors||Number(o||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new te(n=>{let r=0,o=1,i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),n(!0)):(r+=o,t&&r>=t&&(clearInterval(i),n(!1)))},o)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,o){let i=this.getOptions(),s=Object.keys(this._integrations);return!n.integrations&&s?.length&&(n.integrations=s),this.emit("preprocessEvent",t,n),t.type||o.setLastEventId(t.event_id||n.event_id),Ir(i,t,n,r,this,o).then(a=>{if(a===null)return a;this.emit("postprocessEvent",a,n),a.contexts={trace:Nt(r),...a.contexts};let c=Ve(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:c,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r=E(),o=y()){return d&&Cr(t)&&f.log(`Captured error event \`${on(t)[0]||"<unknown>"}\``),this._processEvent(t,n,r,o).then(i=>i.event_id,i=>{d&&(_i(i)?f.log(i.message):gi(i)?f.warn(i.message):f.warn(i))})}_processEvent(t,n,r,o){let i=this.getOptions(),{sampleRate:s}=i,a=Ei(t),c=Cr(t),u=t.type||"error",p=`before send for type \`${u}\``,l=typeof s>"u"?void 0:ae(s);if(c&&typeof l=="number"&&Math.random()>l)return this.recordDroppedEvent("sample_rate","error"),Me(Nr(`Discarding event because it's not included in the random sample (sampling rate = ${s})`));let g=u==="replay_event"?"replay":u;return this._prepareEvent(t,n,r,o).then(m=>{if(m===null)throw this.recordDroppedEvent("event_processor",g),Nr("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return m;let re=Ta(this,i,m,n);return Ea(re,p)}).then(m=>{if(m===null){if(this.recordDroppedEvent("before_send",g),a){let V=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",V)}throw Nr(`${p} returned \`null\`, will not send event.`)}let S=r.getSession()||o.getSession();if(c&&S&&this._updateSessionFromEvent(S,m),a){let T=m.sdkProcessingMetadata?.spanCountBeforeProcessing||0,V=m.spans?m.spans.length:0,fe=T-V;fe>0&&this.recordDroppedEvent("before_send","span",fe)}let re=m.transaction_info;if(a&&re&&m.transaction!==t.transaction){let T="custom";m.transaction_info={...re,source:T}}return this.sendEvent(m,n),m}).then(null,m=>{throw _i(m)||gi(m)?m:(this.captureException(m,{data:{__sentry__:!0},originalException:m}),sn(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${m}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){let t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{let[o,i]=n.split(":");return{reason:o,category:i,quantity:r}})}_flushOutcomes(){d&&f.log("Flushing outcomes...");let t=this._clearOutcomes();if(t.length===0){d&&f.log("No outcomes to send");return}if(!this._dsn){d&&f.log("No dsn provided, will not send outcomes");return}d&&f.log("Sending outcomes:",t);let n=Rr(t,this._options.tunnel&&G(this._dsn));this.sendEnvelope(n)}};function Ea(e,t){let n=`${t} must return \`null\` or a valid event.`;if($(e))return e.then(r=>{if(!B(r)&&r!==null)throw sn(n);return r},r=>{throw sn(`${t} rejected with ${r}`)});if(!B(e)&&e!==null)throw sn(n);return e}function Ta(e,t,n,r){let{beforeSend:o,beforeSendTransaction:i,beforeSendSpan:s}=t,a=n;if(Cr(a)&&o)return o(a,r);if(Ei(a)){if(s){let c=s(fi(a));if(c?a=Re(n,di(c)):ct(),a.spans){let u=[];for(let p of a.spans){let l=s(p);l?u.push(l):(ct(),u.push(p))}a.spans=u}}if(i){if(a.spans){let c=a.spans.length;a.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:c}}return i(a,r)}}return a}function Cr(e){return e.type===void 0}function Ei(e){return e.type==="transaction"}function an(e,t){return t?U(t,()=>{let n=F(),r=n?at(n):Nt(t);return[n?w(n):Ve(e,t),r]}):[void 0,void 0]}function Or(e,t,n,r,o){let i={sent_at:new Date().toISOString()};n?.sdk&&(i.sdk={name:n.sdk.name,version:n.sdk.version}),r&&o&&(i.dsn=G(o)),t&&(i.trace=t);let s=ya(e);return L(i,[s])}function ya(e){return[{type:"check_in"},e]}var Ti={trace:1,debug:5,info:9,warn:13,error:17,fatal:21};function Ia(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function yi(e,t,n,r){let o={};return t?.sdk&&(o.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(o.dsn=G(r)),L(o,[Ia(e)])}var Aa=100;_._sentryClientToLogBufferMap=new WeakMap;function xa(e){switch(typeof e){case"number":return Number.isInteger(e)?{value:e,type:"integer"}:{value:e,type:"double"};case"boolean":return{value:e,type:"boolean"};case"string":return{value:e,type:"string"};default:{let t="";try{t=JSON.stringify(e)??""}catch{}return{value:t,type:"string"}}}}function Oe(e,t,n,r=!0){n&&(!e[t]||r)&&(e[t]=n)}function Ii(e,t){let n=Ai(e);n===void 0?_._sentryClientToLogBufferMap?.set(e,[t]):(_._sentryClientToLogBufferMap?.set(e,[...n,t]),n.length>=Aa&&Xe(e,n))}function cn(e,t=h(),n=E(),r=Ii){if(!t){d&&f.warn("No client available to capture log.");return}let{_experiments:o,release:i,environment:s}=t.getOptions(),{enableLogs:a=!1,beforeSendLog:c}=o??{};if(!a){d&&f.warn("logging option not enabled, log will not be captured.");return}let[,u]=an(t,n),p={...e.attributes},{user:l}=ba(n);if(t.getOptions().sendDefaultPii){let{id:Ue,email:Fe,username:An}=l;Oe(p,"user.id",Ue,!1),Oe(p,"user.email",Fe,!1),Oe(p,"user.name",An,!1)}Oe(p,"sentry.release",i),Oe(p,"sentry.environment",s);let{name:g,version:m}=t.getSdkMetadata()?.sdk??{};Oe(p,"sentry.sdk.name",g),Oe(p,"sentry.sdk.version",m);let S=e.message;if(Ae(S)){let{__sentry_template_string__:Ue,__sentry_template_values__:Fe=[]}=S;p["sentry.message.template"]=Ue,Fe.forEach((An,Ss)=>{p[`sentry.message.parameter.${Ss}`]=An})}let re=de(n);Oe(p,"sentry.trace.parent_span_id",re?.spanContext().spanId);let T={...e,attributes:p};t.emit("beforeCaptureLog",T);let V=c?c(T):T;if(!V){t.recordDroppedEvent("before_send","log_item",1),d&&f.warn("beforeSendLog returned null, log will not be captured.");return}let{level:fe,message:gs,attributes:ao={},severityNumber:_s}=V,hs={timestamp:R(),level:fe,body:gs,trace_id:u?.trace_id,severity_number:_s??Ti[fe],attributes:Object.keys(ao).reduce((Ue,Fe)=>(Ue[Fe]=xa(ao[Fe]),Ue),{})};r(t,hs),t.emit("afterCaptureLog",V)}function Xe(e,t){let n=t??Ai(e)??[];if(n.length===0)return;let r=e.getOptions(),o=yi(n,r._metadata,r.tunnel,e.getDsn());_._sentryClientToLogBufferMap?.set(e,[]),e.emit("flushLogs"),e.sendEnvelope(o)}function Ai(e){return _._sentryClientToLogBufferMap?.get(e)}function ba(e){let t=He().getScopeData();return Pe(t,y().getScopeData()),Pe(t,e.getScopeData()),t}function vr(e,t){return e(t.stack||"",1)}function un(e,t){let n={type:t.name||t.constructor.name,value:t.message},r=vr(e,t);return r.length&&(n.stacktrace={frames:r}),n}function Ra(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)){let n=e[t];if(n instanceof Error)return n}}function Na(e){if("name"in e&&typeof e.name=="string"){let r=`'${e.name}' captured as exception`;return"message"in e&&typeof e.message=="string"&&(r+=` with message '${e.message}'`),r}else if("message"in e&&typeof e.message=="string")return e.message;let t=Dn(e);if(xn(e))return`Event \`ErrorEvent\` captured as exception with message \`${e.message}\``;let n=Ca(e);return`${n&&n!=="Object"?`'${n}'`:"Object"} captured as exception with keys: ${t}`}function Ca(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function Oa(e,t,n,r){if(k(n))return[n,void 0];if(t.synthetic=!0,B(n)){let i=e?.getOptions().normalizeDepth,s={__serialized__:zt(n,i)},a=Ra(n);if(a)return[a,s];let c=Na(n),u=r?.syntheticException||new Error(c);return u.message=c,[u,s]}let o=r?.syntheticException||new Error(n);return o.message=`${n}`,[o,void 0]}function Ze(e,t,n,r){let i=r?.data&&r.data.mechanism||{handled:!0,type:"generic"},[s,a]=Oa(e,i,n,r),c={exception:{values:[un(t,s)]}};return a&&(c.extra=a),Mn(c,void 0,void 0),be(c,i),{...c,event_id:r?.event_id}}function wr(e,t,n="info",r,o){let i={event_id:r?.event_id,level:n};if(o&&r?.syntheticException){let s=vr(e,r.syntheticException);s.length&&(i.exception={values:[{value:t,stacktrace:{frames:s}}]},be(i,{synthetic:!0}))}if(Ae(t)){let{__sentry_template_string__:s,__sentry_template_values__:a}=t;return i.logentry={message:s,params:a},i}return i.message=t,i}var va=5e3,St=class extends ht{constructor(t){if(Qn(),super(t),this._logWeight=0,this._options._experiments?.enableLogs){let n=this;n.on("flushLogs",()=>{n._logWeight=0,clearTimeout(n._logFlushIdleTimeout)}),n.on("afterCaptureLog",r=>{n._logWeight+=wa(r),n._logWeight>=8e5?Xe(n):n._logFlushIdleTimeout=setTimeout(()=>{Xe(n)},va)}),n.on("flush",()=>{Xe(n)})}}eventFromException(t,n){let r=Ze(this,this._options.stackParser,t,n);return r.level="error",q(r)}eventFromMessage(t,n="info",r){return q(wr(this._options.stackParser,t,n,r,this._options.attachStacktrace))}captureException(t,n,r){return xi(n),super.captureException(t,n,r)}captureEvent(t,n,r){return!t.type&&t.exception?.values&&t.exception.values.length>0&&xi(n),super.captureEvent(t,n,r)}captureCheckIn(t,n,r){let o="checkInId"in t&&t.checkInId?t.checkInId:A();if(!this._isEnabled())return d&&f.warn("SDK not enabled, will not capture check-in."),o;let i=this.getOptions(),{release:s,environment:a,tunnel:c}=i,u={check_in_id:o,monitor_slug:t.monitorSlug,status:t.status,release:s,environment:a};"duration"in t&&(u.duration=t.duration),n&&(u.monitor_config={schedule:n.schedule,checkin_margin:n.checkinMargin,max_runtime:n.maxRuntime,timezone:n.timezone,failure_issue_threshold:n.failureIssueThreshold,recovery_threshold:n.recoveryThreshold});let[p,l]=an(this,r);l&&(u.contexts={trace:l});let g=Or(u,p,this.getSdkMetadata(),c,this.getDsn());return d&&f.info("Sending checkin:",t.monitorSlug,t.status),this.sendEnvelope(g),o}_prepareEvent(t,n,r,o){return this._options.platform&&(t.platform=t.platform||this._options.platform),this._options.runtime&&(t.contexts={...t.contexts,runtime:t.contexts?.runtime||this._options.runtime}),this._options.serverName&&(t.server_name=t.server_name||this._options.serverName),super._prepareEvent(t,n,r,o)}};function xi(e){let t=y().getScopeData().sdkProcessingMetadata.requestSession;if(t){let n=e?.mechanism?.handled??!0;n&&t.status!=="crashed"?t.status="errored":n||(t.status="crashed")}}function wa(e){let t=0;return e.message&&(t+=e.message.length*2),e.attributes&&Object.values(e.attributes).forEach(n=>{Array.isArray(n)?t+=n.length*bi(n[0]):xe(n)?t+=bi(n):t+=100}),t}function bi(e){return typeof e=="string"?e.length*2:typeof e=="number"?8:typeof e=="boolean"?4:0}function Dr(e,t){t.debug===!0&&(d?f.enable():Y(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),E().update(t.initialScope);let r=new e(t);return Mr(r),r.init(),r}function Mr(e){E().setClient(e)}var pn=Symbol.for("SentryBufferFullError");function Pr(e){let t=[];function n(){return e===void 0||t.length<e}function r(s){return t.splice(t.indexOf(s),1)[0]||Promise.resolve(void 0)}function o(s){if(!n())return Me(pn);let a=s();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function i(s){return new te((a,c)=>{let u=t.length;if(!u)return a(!0);let p=setTimeout(()=>{s&&s>0&&a(!1)},s);t.forEach(l=>{q(l).then(()=>{--u||(clearTimeout(p),a(!0))},c)})})}return{$:t,add:o,drain:i}}function kr(e,t=Date.now()){let n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;let r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}function Ri(e,t){return e[t]||e.all||0}function Ur(e,t,n=Date.now()){return Ri(e,t)>n}function Fr(e,{statusCode:t,headers:n},r=Date.now()){let o={...e},i=n?.["x-sentry-rate-limits"],s=n?.["retry-after"];if(i)for(let a of i.trim().split(",")){let[c,u,,,p]=a.split(":",5),l=parseInt(c,10),g=(isNaN(l)?60:l)*1e3;if(!u)o.all=r+g;else for(let m of u.split(";"))m==="metric_bucket"?(!p||p.split(";").includes("custom"))&&(o[m]=r+g):o[m]=r+g}else s?o.all=r+kr(s,r):t===429&&(o.all=r+60*1e3);return o}var Da=64;function fn(e,t,n=Pr(e.bufferSize||Da)){let r={},o=s=>n.drain(s);function i(s){let a=[];if(_e(s,(l,g)=>{let m=Yt(g);Ur(r,m)?e.recordDroppedEvent("ratelimit_backoff",m):a.push(l)}),a.length===0)return q({});let c=L(s[0],a),u=l=>{_e(c,(g,m)=>{e.recordDroppedEvent(l,Yt(m))})},p=()=>t({body:cr(c)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&d&&f.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),r=Fr(r,l),l),l=>{throw u("network_error"),d&&f.error("Encountered error running transport request:",l),l});return n.add(p).then(l=>l,l=>{if(l===pn)return d&&f.error("Skipped sending event because buffer is full."),u("queue_overflow"),q({});throw l})}return{send:i,flush:o}}function Et(e={}){let t=h();if(!tn()||!t)return{};let n=v(),r=J(n);if(r.getTraceData)return r.getTraceData(e);let o=E(),i=e.span||F(),s=i?kt(i):Pa(o),a=i?w(i):Ve(t,o),c=ot(a);return wt.test(s)?{"sentry-trace":s,baggage:c}:(f.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function Pa(e){let{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return it(t,r,n)}function Ni(){return Object.entries(Et()).map(([e,t])=>`<meta name="${e}" content="${t}"/>`).join(`
`)}var ka=100;function ne(e,t){let n=h(),r=y();if(!n)return;let{beforeBreadcrumb:o=null,maxBreadcrumbs:i=ka}=n.getOptions();if(i<=0)return;let a={timestamp:ie(),...e},c=o?Y(()=>o(a,t)):a;c!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),r.addBreadcrumb(c,i))}var Ci,Ua="FunctionToString",Oi=new WeakMap,Fa=()=>({name:Ua,setupOnce(){Ci=Function.prototype.toString;try{Function.prototype.toString=function(...e){let t=wn(this),n=Oi.has(h())&&t!==void 0?t:this;return Ci.apply(n,e)}}catch{}},setup(e){Oi.set(e,!0)}}),dn=Fa;var La=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],Ba="EventFilters",Lr=(e={})=>{let t;return{name:Ba,setup(n){let r=n.getOptions();t=vi(e,r)},processEvent(n,r,o){if(!t){let i=o.getOptions();t=vi(e,i)}return $a(n,t)?null:n}}},mn=(e={})=>({...Lr(e),name:"InboundFilters"});function vi(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:La],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function $a(e,t){if(e.type){if(e.type==="transaction"&&Ga(e,t.ignoreTransactions))return d&&f.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${oe(e)}`),!0}else{if(Ha(e,t.ignoreErrors))return d&&f.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${oe(e)}`),!0;if(Wa(e))return d&&f.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${oe(e)}`),!0;if(ja(e,t.denyUrls))return d&&f.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${oe(e)}.
Url: ${ln(e)}`),!0;if(!za(e,t.allowUrls))return d&&f.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${oe(e)}.
Url: ${ln(e)}`),!0}return!1}function Ha(e,t){return t?.length?on(e).some(n=>Be(n,t)):!1}function Ga(e,t){if(!t?.length)return!1;let n=e.transaction;return n?Be(n,t):!1}function ja(e,t){if(!t?.length)return!1;let n=ln(e);return n?Be(n,t):!1}function za(e,t){if(!t?.length)return!0;let n=ln(e);return n?Be(n,t):!0}function Ya(e=[]){for(let t=e.length-1;t>=0;t--){let n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function ln(e){try{let n=[...e.exception?.values??[]].reverse().find(r=>r.mechanism?.parent_id===void 0&&r.stacktrace?.frames?.length)?.stacktrace?.frames;return n?Ya(n):null}catch{return d&&f.error(`Cannot extract url for event ${oe(e)}`),null}}function Wa(e){return e.exception?.values?.length?!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value):!1}function $r(e,t,n,r,o,i){if(!o.exception?.values||!i||!z(i.originalException,Error))return;let s=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;s&&(o.exception.values=Br(e,t,r,i.originalException,n,o.exception.values,s,0))}function Br(e,t,n,r,o,i,s,a){if(i.length>=n+1)return i;let c=[...i];if(z(r[o],Error)){wi(s,a);let u=e(t,r[o]),p=c.length;Di(u,o,p,a),c=Br(e,t,n,r[o],o,[u,...c],u,p)}return Array.isArray(r.errors)&&r.errors.forEach((u,p)=>{if(z(u,Error)){wi(s,a);let l=e(t,u),g=c.length;Di(l,`errors[${p}]`,g,a),c=Br(e,t,n,u,o,[l,...c],l,g)}}),c}function wi(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function Di(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}var Ja="cause",qa=5,Va="LinkedErrors",Ka=(e={})=>{let t=e.limit||qa,n=e.key||Ja;return{name:Va,preprocessEvent(r,o,i){let s=i.getOptions();$r(un,s.stackParser,n,t,r,o)}}},gn=Ka;var Pi=new Map,Mi=new Set;function Xa(e){if(_._sentryModuleMetadata)for(let t of Object.keys(_._sentryModuleMetadata)){let n=_._sentryModuleMetadata[t];if(Mi.has(t))continue;Mi.add(t);let r=e(t);for(let o of r.reverse())if(o.filename){Pi.set(o.filename,n);break}}}function Za(e,t){return Xa(e),Pi.get(t)}function _n(e,t){try{t.exception.values.forEach(n=>{if(n.stacktrace)for(let r of n.stacktrace.frames||[]){if(!r.filename||r.module_metadata)continue;let o=Za(e,r.filename);o&&(r.module_metadata=o)}})}catch{}}function hn(e){try{e.exception.values.forEach(t=>{if(t.stacktrace)for(let n of t.stacktrace.frames||[])delete n.module_metadata})}catch{}}var Qa=()=>({name:"ModuleMetadata",setup(e){e.on("beforeEnvelope",t=>{_e(t,(n,r)=>{if(r==="event"){let o=Array.isArray(n)?n[1]:void 0;o&&(hn(o),n[1]=o)}})}),e.on("applyFrameMetadata",t=>{if(t.type)return;let n=e.getOptions().stackParser;_n(n,t)})}});function ki(e){let t={},n=0;for(;n<e.length;){let r=e.indexOf("=",n);if(r===-1)break;let o=e.indexOf(";",n);if(o===-1)o=e.length;else if(o<r){n=e.lastIndexOf(";",r-1)+1;continue}let i=e.slice(n,r).trim();if(t[i]===void 0){let s=e.slice(r+1,o).trim();s.charCodeAt(0)===34&&(s=s.slice(1,-1));try{t[i]=s.indexOf("%")!==-1?decodeURIComponent(s):s}catch{t[i]=s}}n=o+1}return t}var Hr=["X-Client-IP","X-Forwarded-For","Fly-Client-IP","CF-Connecting-IP","Fastly-Client-Ip","True-Client-Ip","X-Real-IP","X-Cluster-Client-IP","X-Forwarded","Forwarded-For","Forwarded","X-Vercel-Forwarded-For"];function Ui(e){return Hr.map(o=>{let i=e[o],s=Array.isArray(i)?i.join(";"):i;return o==="Forwarded"?ec(s):s?.split(",").map(a=>a.trim())}).reduce((o,i)=>i?o.concat(i):o,[]).find(o=>o!==null&&tc(o))||null}function ec(e){if(!e)return null;for(let t of e.split(";"))if(t.startsWith("for="))return t.slice(4);return null}function tc(e){return/(?:^(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}$)|(?:^(?:(?:[a-fA-F\d]{1,4}:){7}(?:[a-fA-F\d]{1,4}|:)|(?:[a-fA-F\d]{1,4}:){6}(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|:[a-fA-F\d]{1,4}|:)|(?:[a-fA-F\d]{1,4}:){5}(?::(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,2}|:)|(?:[a-fA-F\d]{1,4}:){4}(?:(?::[a-fA-F\d]{1,4}){0,1}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,3}|:)|(?:[a-fA-F\d]{1,4}:){3}(?:(?::[a-fA-F\d]{1,4}){0,2}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,4}|:)|(?:[a-fA-F\d]{1,4}:){2}(?:(?::[a-fA-F\d]{1,4}){0,3}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,5}|:)|(?:[a-fA-F\d]{1,4}:){1}(?:(?::[a-fA-F\d]{1,4}){0,4}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,6}|:)|(?::(?:(?::[a-fA-F\d]{1,4}){0,5}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,7}|:)))(?:%[0-9a-zA-Z]{1,})?$)/.test(e)}var nc={cookies:!0,data:!0,headers:!0,query_string:!0,url:!0},rc="RequestData",oc=(e={})=>{let t={...nc,...e.include};return{name:rc,processEvent(n,r,o){let{sdkProcessingMetadata:i={}}=n,{normalizedRequest:s,ipAddress:a}=i,c={...t,ip:t.ip??o.getOptions().sendDefaultPii};return s&&ic(n,s,{ipAddress:a},c),n}}},Fi=oc;function ic(e,t,n,r){if(e.request={...e.request,...sc(t,r)},r.ip){let o=t.headers&&Ui(t.headers)||n.ipAddress;o&&(e.user={...e.user,ip_address:o})}}function sc(e,t){let n={},r={...e.headers};if(t.headers&&(n.headers=r,t.cookies||delete r.cookie,t.ip||Hr.forEach(o=>{delete r[o]})),n.method=e.method,t.url&&(n.url=e.url),t.cookies){let o=e.cookies||(r?.cookie?ki(r.cookie):void 0);n.cookies=o||{}}return t.query_string&&(n.query_string=e.query_string),t.data&&(n.data=e.data),n}function Te(e){let t="console";le(t,e),me(t,ac)}function ac(){"console"in _&&K.forEach(function(e){e in _.console&&tt(_.console,e,function(t){return Le[e]=t,function(...n){Q("console",{args:n,level:e}),Le[e]?.apply(_.console,n)}})})}function ke(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}var cc="CaptureConsole",uc=(e={})=>{let t=e.levels||K,n=e.handled??!0;return{name:cc,setup(r){"console"in _&&Te(({args:o,level:i})=>{h()!==r||!t.includes(i)||pc(o,i,n)})}}},Li=uc;function pc(e,t,n){let r={level:ke(t),extra:{arguments:e}};U(o=>{if(o.addEventProcessor(a=>(a.logger="console",be(a,{handled:n,type:"console"}),a)),t==="assert"){if(!e[0]){let a=`Assertion failed: ${X(e.slice(1)," ")||"console.assert"}`;o.setExtra("arguments",e.slice(1)),mt(a,r)}return}let i=e.find(a=>a instanceof Error);if(i){Ee(i,r);return}let s=X(e," ");mt(s,r)})}var fc="Dedupe",dc=()=>{let e;return{name:fc,processEvent(t){if(t.type)return t;try{if(lc(t,e))return d&&f.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},Sn=dc;function lc(e,t){return t?!!(mc(e,t)||gc(e,t)):!1}function mc(e,t){let n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!Hi(e,t)||!$i(e,t))}function gc(e,t){let n=Bi(t),r=Bi(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!Hi(e,t)||!$i(e,t))}function $i(e,t){let n=qe(e),r=qe(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let o=0;o<r.length;o++){let i=r[o],s=n[o];if(i.filename!==s.filename||i.lineno!==s.lineno||i.colno!==s.colno||i.function!==s.function)return!1}return!0}function Hi(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function Bi(e){return e.exception?.values&&e.exception.values[0]}var _c="ExtraErrorData",hc=(e={})=>{let{depth:t=3,captureErrorCause:n=!0}=e;return{name:_c,processEvent(r,o,i){let{maxValueLength:s=250}=i.getOptions();return Sc(r,o,t,n,s)}}},Gi=hc;function Sc(e,t={},n,r,o){if(!t.originalException||!k(t.originalException))return e;let i=t.originalException.name||t.originalException.constructor.name,s=Ec(t.originalException,r,o);if(s){let a={...e.contexts},c=P(s,n);return B(c)&&(b(c,"__sentry_skip_normalization__",!0),a[i]=c),{...e,contexts:a}}return e}function Ec(e,t,n){try{let r=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],o={};for(let i of Object.keys(e)){if(r.indexOf(i)!==-1)continue;let s=e[i];o[i]=k(s)||typeof s=="string"?W(`${s}`,n):s}if(t&&e.cause!==void 0&&(o.cause=k(e.cause)?e.cause.toString():e.cause),typeof e.toJSON=="function"){let i=e.toJSON();for(let s of Object.keys(i)){let a=i[s];o[s]=k(a)?a.toString():a}}return o}catch(r){d&&f.error("Unable to extract extra data from the Error object:",r)}return null}function Tc(e,t){let n=0;for(let r=e.length-1;r>=0;r--){let o=e[r];o==="."?e.splice(r,1):o===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var yc=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function zi(e){let t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=yc.exec(t);return n?n.slice(1):[]}function Gr(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){let o=r>=0?e[r]:"/";o&&(t=`${o}/${t}`,n=o.charAt(0)==="/")}return t=Tc(t.split("/").filter(r=>!!r),!n).join("/"),(n?"/":"")+t||"."}function ji(e){let t=0;for(;t<e.length&&e[t]==="";t++);let n=e.length-1;for(;n>=0&&e[n]==="";n--);return t>n?[]:e.slice(t,n-t+1)}function jr(e,t){e=Gr(e).slice(1),t=Gr(t).slice(1);let n=ji(e.split("/")),r=ji(t.split("/")),o=Math.min(n.length,r.length),i=o;for(let a=0;a<o;a++)if(n[a]!==r[a]){i=a;break}let s=[];for(let a=i;a<n.length;a++)s.push("..");return s=s.concat(r.slice(i)),s.join("/")}function zr(e){let t=zi(e),n=t[0]||"",r=t[1];return!n&&!r?".":(r&&(r=r.slice(0,r.length-1)),n+r)}function Yr(e,t){let n=zi(e)[2]||"";return t&&n.slice(t.length*-1)===t&&(n=n.slice(0,n.length-t.length)),n}var Ic="RewriteFrames",Yi=(e={})=>{let t=e.root,n=e.prefix||"app:///",r="window"in _&&!!_.window,o=e.iteratee||Ac({isBrowser:r,root:t,prefix:n});function i(a){try{return{...a,exception:{...a.exception,values:a.exception.values.map(c=>({...c,...c.stacktrace&&{stacktrace:s(c.stacktrace)}}))}}}catch{return a}}function s(a){return{...a,frames:a?.frames&&a.frames.map(c=>o(c))}}return{name:Ic,processEvent(a){let c=a;return a.exception&&Array.isArray(a.exception.values)&&(c=i(c)),c}}};function Ac({isBrowser:e,root:t,prefix:n}){return r=>{if(!r.filename)return r;let o=/^[a-zA-Z]:\\/.test(r.filename)||r.filename.includes("\\")&&!r.filename.includes("/"),i=/^\//.test(r.filename);if(e){if(t){let s=r.filename;s.indexOf(t)===0&&(r.filename=s.replace(t,n))}}else if(o||i){let s=o?r.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):r.filename,a=t?jr(t,s):Yr(s);r.filename=`${n}${a}`}return r}}var xc=["reauthenticate","signInAnonymously","signInWithOAuth","signInWithIdToken","signInWithOtp","signInWithPassword","signInWithSSO","signOut","signUp","verifyOtp"],bc=["createUser","deleteUser","listUsers","getUserById","updateUserById","inviteUserByEmail"],Rc={eq:"eq",neq:"neq",gt:"gt",gte:"gte",lt:"lt",lte:"lte",like:"like","like(all)":"likeAllOf","like(any)":"likeAnyOf",ilike:"ilike","ilike(all)":"ilikeAllOf","ilike(any)":"ilikeAnyOf",is:"is",in:"in",cs:"contains",cd:"containedBy",sr:"rangeGt",nxl:"rangeGte",sl:"rangeLt",nxr:"rangeLte",adj:"rangeAdjacent",ov:"overlaps",fts:"",plfts:"plain",phfts:"phrase",wfts:"websearch",not:"not"},Ji=["select","insert","upsert","update","delete"];function En(e){try{e.__SENTRY_INSTRUMENTED__=!0}catch{}}function Tn(e){try{return e.__SENTRY_INSTRUMENTED__}catch{return!1}}function Nc(e,t={}){switch(e){case"GET":return"select";case"POST":return t.Prefer?.includes("resolution=")?"upsert":"insert";case"PATCH":return"update";case"DELETE":return"delete";default:return"<unknown-op>"}}function Cc(e,t){if(t===""||t==="*")return"select(*)";if(e==="select")return`select(${t})`;if(e==="or"||e.endsWith(".or"))return`${e}${t}`;let[n,...r]=t.split("."),o;return n?.startsWith("fts")?o="textSearch":n?.startsWith("plfts")?o="textSearch[plain]":n?.startsWith("phfts")?o="textSearch[phrase]":n?.startsWith("wfts")?o="textSearch[websearch]":o=n&&Rc[n]||"filter",`${o}(${e}, ${r.join(".")})`}function Wi(e,t=!1){return new Proxy(e,{apply(n,r,o){return he({name:`auth ${t?"(admin) ":""}${e.name}`,attributes:{[N]:"auto.db.supabase",[M]:"db","db.system":"postgresql","db.operation":`auth.${t?"admin.":""}${e.name}`}},i=>Reflect.apply(n,r,o).then(s=>(s&&typeof s=="object"&&"error"in s&&s.error?(i.setStatus({code:2}),Ee(s.error,{mechanism:{handled:!1}})):i.setStatus({code:1}),i.end(),s)).catch(s=>{throw i.setStatus({code:2}),i.end(),Ee(s,{mechanism:{handled:!1}}),s}).then(...o))}})}function Oc(e){let t=e.auth;if(!(!t||Tn(e.auth))){for(let n of xc){let r=t[n];r&&typeof e.auth[n]=="function"&&(e.auth[n]=Wi(r))}for(let n of bc){let r=t.admin[n];r&&typeof e.auth.admin[n]=="function"&&(e.auth.admin[n]=Wi(r,!0))}En(e.auth)}}function vc(e){Tn(e.prototype.from)||(e.prototype.from=new Proxy(e.prototype.from,{apply(t,n,r){let o=Reflect.apply(t,n,r),i=o.constructor;return Dc(i),o}}),En(e.prototype.from))}function wc(e){Tn(e.prototype.then)||(e.prototype.then=new Proxy(e.prototype.then,{apply(t,n,r){let o=Ji,i=n,s=Nc(i.method,i.headers);if(!o.includes(s)||!i?.url?.pathname||typeof i.url.pathname!="string")return Reflect.apply(t,n,r);let a=i.url.pathname.split("/"),c=a.length>0?a[a.length-1]:"",u=[];for(let[m,S]of i.url.searchParams.entries())u.push(Cc(m,S));let p=Object.create(null);if(B(i.body))for(let[m,S]of Object.entries(i.body))p[m]=S;let l=`${s==="select"?"":`${s}${p?"(...) ":""}`}${u.join(" ")} from(${c})`,g={"db.table":c,"db.schema":i.schema,"db.url":i.url.origin,"db.sdk":i.headers["X-Client-Info"],"db.system":"postgresql","db.operation":s,[N]:"auto.db.supabase",[M]:"db"};return u.length&&(g["db.query"]=u),Object.keys(p).length&&(g["db.body"]=p),he({name:l,attributes:g},m=>Reflect.apply(t,n,[]).then(S=>{if(m&&(S&&typeof S=="object"&&"status"in S&&We(m,S.status||500),m.end()),S.error){let V=new Error(S.error.message);S.error.code&&(V.code=S.error.code),S.error.details&&(V.details=S.error.details);let fe={};u.length&&(fe.query=u),Object.keys(p).length&&(fe.body=p),Ee(V,{contexts:{supabase:fe}})}let re={type:"supabase",category:`db.${s}`,message:l},T={};return u.length&&(T.query=u),Object.keys(p).length&&(T.body=p),Object.keys(T).length&&(re.data=T),ne(re),S},S=>{throw m&&(We(m,500),m.end()),S}).then(...r))}}),En(e.prototype.then))}function Dc(e){for(let t of Ji)Tn(e.prototype[t])||(e.prototype[t]=new Proxy(e.prototype[t],{apply(n,r,o){let i=Reflect.apply(n,r,o),s=i.constructor;return d&&f.log(`Instrumenting ${t} operation's PostgRESTFilterBuilder`),wc(s),i}}),En(e.prototype[t]))}var Wr=e=>{if(!e){d&&f.warn("Supabase integration was not installed because no Supabase client was provided.");return}let t=e.constructor===Function?e:e.constructor;vc(t),Oc(e)},Mc="Supabase",Pc=e=>({setupOnce(){Wr(e)},name:Mc}),qi=e=>Pc(e.supabaseClient);var kc=10,Uc="ZodErrors";function Fc(e){return k(e)&&e.name==="ZodError"&&Array.isArray(e.issues)}function Lc(e){return{...e,path:"path"in e&&Array.isArray(e.path)?e.path.join("."):void 0,keys:"keys"in e?JSON.stringify(e.keys):void 0,unionErrors:"unionErrors"in e?JSON.stringify(e.unionErrors):void 0}}function Bc(e){return e.map(t=>typeof t=="number"?"<array>":t).join(".")}function $c(e){let t=new Set;for(let r of e.issues){let o=Bc(r.path);o.length>0&&t.add(o)}let n=Array.from(t);if(n.length===0){let r="variable";if(e.issues.length>0){let o=e.issues[0];o!==void 0&&"expected"in o&&typeof o.expected=="string"&&(r=o.expected)}return`Failed to validate ${r}`}return`Failed to validate keys: ${W(n.join(", "),100)}`}function Hc(e,t=!1,n,r){if(!n.exception?.values||!r.originalException||!Fc(r.originalException)||r.originalException.issues.length===0)return n;try{let i=(t?r.originalException.issues:r.originalException.issues.slice(0,e)).map(Lc);return t&&(Array.isArray(r.attachments)||(r.attachments=[]),r.attachments.push({filename:"zod_issues.json",data:JSON.stringify({issues:i})})),{...n,exception:{...n.exception,values:[{...n.exception.values[0],value:$c(r.originalException)},...n.exception.values.slice(1)]},extra:{...n.extra,"zoderror.issues":i.slice(0,e)}}}catch(o){return{...n,extra:{...n.extra,"zoderrors sentry integration parse error":{message:"an exception was thrown while processing ZodError within applyZodErrorsToEvent()",error:o instanceof Error?`${o.name}: ${o.message}
${o.stack}`:"unknown"}}}}}var Gc=(e={})=>{let t=e.limit??kc;return{name:Uc,processEvent(n,r){return Hc(t,e.saveZodIssuesAsAttachment,n,r)}}},Vi=Gc;var jc=e=>({name:"ThirdPartyErrorsFilter",setup(t){t.on("beforeEnvelope",n=>{_e(n,(r,o)=>{if(o==="event"){let i=Array.isArray(r)?r[1]:void 0;i&&(hn(i),r[1]=i)}})}),t.on("applyFrameMetadata",n=>{if(n.type)return;let r=t.getOptions().stackParser;_n(r,n)})},processEvent(t){let n=zc(t);if(n){let r=e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="apply-tag-if-contains-third-party-frames"?"some":"every";if(n[r](i=>!i.some(s=>e.filterKeys.includes(s)))){if(e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="drop-error-if-exclusively-contains-third-party-frames")return null;t.tags={...t.tags,third_party_code:!0}}}return t}});function zc(e){let t=qe(e);if(t)return t.filter(n=>!!n.filename).map(n=>n.module_metadata?Object.keys(n.module_metadata).filter(r=>r.startsWith(Ki)).map(r=>r.slice(Ki.length)):[])}var Ki="_sentryBundlerPluginAppKey:";var Yc="Console",Wc=(e={})=>{let t=new Set(e.levels||K);return{name:Yc,setup(n){Te(({args:r,level:o})=>{h()!==n||!t.has(o)||Jc(o,r)})}}};function Jc(e,t){let n={category:"console",data:{arguments:t,logger:"console"},level:ke(e),message:Xi(t)};if(e==="assert")if(t[0]===!1){let r=t.slice(1);n.message=r.length>0?`Assertion failed: ${Xi(r)}`:"Assertion failed",n.data.arguments=r}else return;ne(n,{input:t,level:e})}function Xi(e){return"util"in _&&typeof _.util.format=="function"?_.util.format(...e):X(e," ")}var Zi=new WeakSet;function ns(e){return Zi.has(e)?e:Qc(e)?(e.connect=new Proxy(e.connect,{apply(t,n,r){let[o,...i]=r;o.onclose||(o.onclose=()=>{o.sessionId&&es(o.sessionId)}),o.onmessage||(o.onmessage=a=>{o.sessionId&&Qi(a)&&ts(o.sessionId,a.id)});let s=new Proxy(o,{set(a,c,u){return c==="onmessage"?a[c]=new Proxy(u,{apply(p,l,g){let[m]=g;return o.sessionId&&Qi(m)&&ts(o.sessionId,m.id),Reflect.apply(p,l,g)}}):c==="onclose"?a[c]=new Proxy(u,{apply(p,l,g){return o.sessionId&&es(o.sessionId),Reflect.apply(p,l,g)}}):a[c]=u,!0}});return Reflect.apply(t,n,[s,...i])}}),e.resource=new Proxy(e.resource,{apply(t,n,r){let o=r[0],i=r[r.length-1];if(typeof o!="string"||typeof i!="function")return t.apply(n,r);let s=new Proxy(i,{apply(a,c,u){let p=u.find(Jr);return qr(p,()=>he({name:`mcp-server/resource:${o}`,forceTransaction:!0,attributes:{[M]:"auto.function.mcp-server",[N]:"auto.function.mcp-server",[O]:"route","mcp_server.resource":o}},()=>a.apply(c,u)))}});return Reflect.apply(t,n,[...r.slice(0,-1),s])}}),e.tool=new Proxy(e.tool,{apply(t,n,r){let o=r[0],i=r[r.length-1];if(typeof o!="string"||typeof i!="function")return t.apply(n,r);let s=new Proxy(i,{apply(a,c,u){let p=u.find(Jr);return qr(p,()=>he({name:`mcp-server/tool:${o}`,forceTransaction:!0,attributes:{[M]:"auto.function.mcp-server",[N]:"auto.function.mcp-server",[O]:"route","mcp_server.tool":o}},()=>a.apply(c,u)))}});return Reflect.apply(t,n,[...r.slice(0,-1),s])}}),e.prompt=new Proxy(e.prompt,{apply(t,n,r){let o=r[0],i=r[r.length-1];if(typeof o!="string"||typeof i!="function")return t.apply(n,r);let s=new Proxy(i,{apply(a,c,u){let p=u.find(Jr);return qr(p,()=>he({name:`mcp-server/prompt:${o}`,forceTransaction:!0,attributes:{[M]:"auto.function.mcp-server",[N]:"auto.function.mcp-server",[O]:"route","mcp_server.prompt":o}},()=>a.apply(c,u)))}});return Reflect.apply(t,n,[...r.slice(0,-1),s])}}),Zi.add(e),e):(d&&f.warn("Did not patch MCP server. Interface is incompatible."),e)}function Qc(e){return typeof e=="object"&&e!==null&&"resource"in e&&typeof e.resource=="function"&&"tool"in e&&typeof e.tool=="function"&&"prompt"in e&&typeof e.prompt=="function"&&"connect"in e&&typeof e.connect=="function"}function Qi(e){return typeof e=="object"&&e!==null&&"id"in e&&(typeof e.id=="number"||typeof e.id=="string")}function Jr(e){return typeof e=="object"&&e!==null&&"sessionId"in e&&typeof e.sessionId=="string"&&"requestId"in e&&(typeof e.requestId=="number"||typeof e.requestId=="string")}var yn=new Map;function es(e){yn.delete(e)}function ts(e,t){let n=F();if(n){let r=yn.get(e)??new Map;r.set(t,n),yn.set(e,r)}}function qr(e,t){if(e){let{sessionId:n,requestId:r}=e,o=yn.get(n);if(!o)return t();let i=o.get(r);return i?(o.delete(r),Ke(i,()=>t())):t()}return t()}function rs(e,t={},n=E()){let{message:r,name:o,email:i,url:s,source:a,associatedEventId:c,tags:u}=e,p={contexts:{feedback:{contact_email:i,name:o,message:r,url:s,source:a,associated_event_id:c}},type:"feedback",level:"info",tags:u},l=n?.getClient()||h();return l&&l.emit("beforeSendFeedback",p,t),n.captureEvent(p,t)}var eu="ConsoleLogs",os={[N]:"auto.console.logging"},tu=(e={})=>{let t=e.levels||K;return{name:eu,setup(n){if(!n.getOptions()._experiments?.enableLogs){d&&f.warn("`_experiments.enableLogs` is not enabled, ConsoleLogs integration disabled");return}Te(({args:r,level:o})=>{if(h()!==n||!t.includes(o))return;if(o==="assert"){if(!r[0]){let s=r.slice(1),a=s.length>0?`Assertion failed: ${is(s)}`:"Assertion failed";cn({level:"error",message:a,attributes:os})}return}let i=o==="log";cn({level:i?"info":o,message:is(r),severityNumber:i?10:void 0,attributes:os})})}}},nu=tu;function is(e){return"util"in _&&typeof _.util.format=="function"?_.util.format(...e):X(e," ")}function Vr(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}var Kr=_;function ru(){if(!("fetch"in Kr))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function Xr(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Zr(){if(typeof EdgeRuntime=="string")return!0;if(!ru())return!1;if(Xr(Kr.fetch))return!0;let e=!1,t=Kr.document;if(t&&typeof t.createElement=="function")try{let n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow?.fetch&&(e=Xr(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){d&&f.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function eo(e,t){let n="fetch";le(n,e),me(n,()=>ou(void 0,t))}function ou(e,t=!1){t&&!Zr()||tt(_,"fetch",function(n){return function(...r){let o=new Error,{method:i,url:s}=iu(r),a={args:r,fetchData:{method:i,url:s},startTimestamp:R()*1e3,virtualError:o,headers:su(r)};return e||Q("fetch",{...a}),n.apply(_,r).then(async c=>(e?e(c):Q("fetch",{...a,endTimestamp:R()*1e3,response:c}),c),c=>{if(Q("fetch",{...a,endTimestamp:R()*1e3,error:c}),k(c)&&c.stack===void 0&&(c.stack=o.stack,b(c,"framesToPop",1)),c instanceof TypeError&&(c.message==="Failed to fetch"||c.message==="Load failed"||c.message==="NetworkError when attempting to fetch resource."))try{let u=new URL(a.fetchData.url);c.message=`${c.message} (${u.host})`}catch{}throw c})}})}function Qr(e,t){return!!e&&typeof e=="object"&&!!e[t]}function ss(e){return typeof e=="string"?e:e?Qr(e,"url")?e.url:e.toString?e.toString():"":""}function iu(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){let[n,r]=e;return{url:ss(n),method:Qr(r,"method")?String(r.method).toUpperCase():"GET"}}let t=e[0];return{url:ss(t),method:Qr(t,"method")?String(t.method).toUpperCase():"GET"}}function su(e){let[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(On(t))return new Headers(t.headers)}catch{}}function to(e,t=!1){return!(t||e&&!e.startsWith("/")&&!e.match(/^[A-Z]:/)&&!e.startsWith(".")&&!e.match(/^[a-zA-Z]([a-zA-Z0-9.\-+])*:\/\//))&&e!==void 0&&!e.includes("node_modules/")}function cs(e){let t=/^\s*[-]{4,}$/,n=/at (?:async )?(?:(.+?)\s+\()?(?:(.+):(\d+):(\d+)?|([^)]+))\)?/;return r=>{let o=r.match(n);if(o){let i,s,a,c,u;if(o[1]){a=o[1];let g=a.lastIndexOf(".");if(a[g-1]==="."&&g--,g>0){i=a.slice(0,g),s=a.slice(g+1);let m=i.indexOf(".Module");m>0&&(a=a.slice(m+1),i=i.slice(0,m))}c=void 0}s&&(c=i,u=s),s==="<anonymous>"&&(u=void 0,a=void 0),a===void 0&&(u=u||ut,a=c?`${c}.${u}`:u);let p=o[2]?.startsWith("file://")?o[2].slice(7):o[2],l=o[5]==="native";return p?.match(/\/[A-Z]:/)&&(p=p.slice(1)),!p&&o[5]&&!l&&(p=o[5]),{filename:p?decodeURI(p):void 0,module:e?e(p):void 0,function:a,lineno:as(o[3]),colno:as(o[4]),in_app:to(p||"",l)}}if(r.match(t))return{filename:r}}}function Tt(e){return[90,cs(e)]}function as(e){return parseInt(e||"",10)||void 0}var yt=class{constructor(t){this._maxSize=t,this._cache=new Map}get size(){return this._cache.size}get(t){let n=this._cache.get(t);if(n!==void 0)return this._cache.delete(t),this._cache.set(t,n),n}set(t,n){this._cache.size>=this._maxSize&&this._cache.delete(this._cache.keys().next().value),this._cache.set(t,n)}remove(t){let n=this._cache.get(t);return n&&this._cache.delete(t),n}clear(){this._cache.clear()}keys(){return Array.from(this._cache.keys())}values(){let t=[];return this._cache.forEach(n=>t.push(n)),t}};function uu(){return Deno.permissions.querySync&&Deno.permissions.querySync({name:"sys",kind:"hostname"}).state==="granted"?Deno.hostname():void 0}var It=class extends St{constructor(t){t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.deno",packages:[{name:"denoland:sentry",version:j}],version:j};let n={...t,platform:"javascript",runtime:{name:"deno",version:Deno.version.deno},serverName:t.serverName||uu()};super(n)}};var pu="Breadcrumbs",fu=(e={})=>{let t={console:!0,fetch:!0,sentry:!0,...e};return{name:pu,setup(n){t.console&&Te(lu(n)),t.fetch&&eo(mu(n)),t.sentry&&n.on("beforeSendEvent",du(n))}}},no=fu;function du(e){return function(n){h()===e&&ne({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:oe(n)},{event:n})}}function lu(e){return function(n){if(h()!==e)return;let r={category:"console",data:{arguments:n.args,logger:"console"},level:ke(n.level),message:X(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${X(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;ne(r,{input:n.args,level:n.level})}}function mu(e){return function(n){if(h()!==e)return;let{startTimestamp:r,endTimestamp:o}=n;if(!o||n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST")return;let i={method:n.fetchData.method,url:n.fetchData.url};if(n.error){let s={data:n.error,input:n.args,startTimestamp:r,endTimestamp:o};ne({category:"fetch",data:i,level:"error",type:"http"},s)}else{let s=n.response;i.request_body_size=n.fetchData.request_body_size,i.response_body_size=n.fetchData.response_body_size,i.status_code=s?.status;let a={input:n.args,response:s,startTimestamp:r,endTimestamp:o},c=Vr(i.status_code);ne({category:"fetch",data:i,type:"http",level:c},a)}}}var gu="DenoContext";function _u(){switch(Deno.build.os){case"darwin":return"macOS";case"linux":return"Linux";case"windows":return"Windows";default:return Deno.build.os}}async function hu(){return(await Deno.permissions.query({name:"sys",kind:"osRelease"})).state==="granted"?Deno.osRelease():void 0}async function Su(e){return e.contexts={app:{app_start_time:new Date(Date.now()-performance.now()).toISOString()},device:{arch:Deno.build.arch,processor_count:navigator.hardwareConcurrency},os:{name:_u(),version:await hu()},v8:{name:"v8",version:Deno.version.v8},typescript:{name:"TypeScript",version:Deno.version.typescript},...e.contexts},e}var Eu=()=>({name:gu,processEvent(e){return Su(e)}}),ro=Eu;var Tu="ContextLines",us=new yt(100),yu=7;async function Iu(e){let t=us.get(e);if(t!==void 0)return t;let n=null;try{n=await Deno.readTextFile(e)}catch{}return us.set(e,n),n}var Au=(e={})=>{let t=e.frameContextLines!==void 0?e.frameContextLines:yu;return{name:Tu,processEvent(n){return xu(n,t)}}},oo=Au;async function xu(e,t){if(t>0&&e.exception?.values)for(let n of e.exception.values)n.stacktrace?.frames&&await bu(n.stacktrace.frames,t);return e}async function bu(e,t){for(let n of e)if(n.filename&&n.in_app&&n.context_line===void 0&&(await Deno.permissions.query({name:"read",path:n.filename})).state=="granted"){let o=await Iu(n.filename);if(o)try{let i=o.split(`
`);Pn(i,n,t)}catch{}}}var Ru="GlobalHandlers",In=!1,Nu=e=>{let t={error:!0,unhandledrejection:!0,...e};return{name:Ru,setup(n){t.error&&Cu(n),t.unhandledrejection&&Ou(n)}}},io=Nu;function Cu(e){globalThis.addEventListener("error",t=>{if(h()!==e||In)return;let n=ps(),{message:r,error:o}=t,i=Ze(e,n,o||r);i.level="fatal",gt(i,{originalException:o,mechanism:{handled:!1,type:"error"}}),t.preventDefault(),In=!0,_t().then(()=>{throw o},()=>{throw o})})}function Ou(e){globalThis.addEventListener("unhandledrejection",t=>{if(h()!==e||In)return;let n=ps(),r=t;try{"reason"in t&&(r=t.reason)}catch{}let o=xe(r)?vu(r):Ze(e,n,r,void 0);o.level="fatal",gt(o,{originalException:r,mechanism:{handled:!1,type:"unhandledrejection"}}),t.preventDefault(),In=!0,_t().then(()=>{throw r},()=>{throw r})})}function vu(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function ps(){let e=h();return e?e.getOptions().stackParser:()=>[]}var wu="NormalizePaths";function Du(e){let n=Je(Tt())(e.stack||"").filter(i=>i.in_app&&i.filename).map(i=>i.filename.replace(/^[A-Z]:/,"").replace(/\\/g,"/").split("/").filter(s=>s!=="")),r=n[0];if(!r)return;if(n.length==1)return zr(r.join("/"));let o=0;for(;r[o]&&n.every(i=>i[o]===r[o]);)o++;return r.slice(0,o).join("/")}function Mu(){if(!Deno.permissions.querySync)return;let e=Deno.permissions.querySync({name:"read",path:"./"});try{if(e.state=="granted")return Deno.cwd()}catch{}}var Pu=()=>{let e;function t(n){return e===void 0&&(e=Mu()||Du(n)),e}return{name:wu,processEvent(n){let r=new Error,o=t(r);if(o){for(let i of n.exception?.values||[])for(let s of i.stacktrace?.frames||[])if(s.filename&&s.in_app){let a=s.filename.indexOf(o);if(a>-1){let c=a+o.length;s.filename=`app://${s.filename.substring(c)}`}}}return n}}},so=Pu;function fs(e){let t=new URL(e.url);Deno.permissions.query({name:"net",host:t.host}).then(({state:r})=>{r!=="granted"&&Y(()=>{console.warn(`Sentry SDK requires 'net' permission to send events.
    Run with '--allow-net=${t.host}' to grant the requires permissions.`)})}).catch(()=>{f.warn('Failed to read the "net" permission.')});function n(r){let o={body:r.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers};try{return Vt(()=>fetch(e.url,o).then(i=>({statusCode:i.status,headers:{"x-sentry-rate-limits":i.headers.get("X-Sentry-Rate-Limits"),"retry-after":i.headers.get("Retry-After")}})))}catch(i){return Me(i)}}return fn(e,n)}function ds(e){return[mn(),dn(),gn(),Sn(),no(),ro(),oo(),so(),io()]}var ku=Je(Tt());function Uu(e={}){e.defaultIntegrations===void 0&&(e.defaultIntegrations=ds());let t={...e,stackParser:Jn(e.stackParser||ku),integrations:Ar(e),transport:e.transport||fs};return Dr(It,t)}function At(e){if(e===void 0)return"*";if(typeof e=="number")return e.toString();{let{exact:t}=e;if(t===void 0){let{start:n,end:r,every:o}=e;if(n!==void 0&&r!==void 0&&o!==void 0)return`${n}-${r}/${o}`;if(n!==void 0&&r!==void 0)return`${n}-${r}`;if(n!==void 0&&o!==void 0)return`${n}/${o}`;if(n!==void 0)return`${n}/1`;if(r===void 0&&o!==void 0)return`*/${o}`;throw new TypeError("Invalid cron schedule")}else return typeof t=="number"?t.toString():t.join(",")}}function ls(e){if(typeof e=="string")return e;{let{minute:t,hour:n,dayOfMonth:r,month:o,dayOfWeek:i}=e;return`${At(t)} ${At(n)} ${At(r)} ${At(o)} ${At(i)}`}}var Fu="DenoCron",ms=new WeakMap,Lu=()=>({name:Fu,setupOnce(){Deno.cron&&(Deno.cron=new Proxy(Deno.cron,{apply(e,t,n){let[r,o,i,s]=n,a,c;typeof i=="function"&&typeof s!="function"?(c=i,a=s):typeof i!="function"&&typeof s=="function"&&(c=s,a=i);async function u(){if(!ms.has(h()))return c();await en(r,async()=>c(),{schedule:{type:"crontab",value:ls(o)},maxRuntime:60*12,checkinMargin:1})}return e.call(t,r,o,a||{},u)}}))},setup(e){ms.set(e,!0)}}),Bu=Lu;export{It as DenoClient,j as SDK_VERSION,M as SEMANTIC_ATTRIBUTE_SENTRY_OP,N as SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,Ge as SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,O as SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,D as Scope,ne as addBreadcrumb,ii as addEventProcessor,no as breadcrumbsIntegration,Qt as captureCheckIn,Li as captureConsoleIntegration,gt as captureEvent,Ee as captureException,rs as captureFeedback,mt as captureMessage,ci as captureSession,ri as close,oo as contextLinesIntegration,Yo as continueTrace,fn as createTransport,Sn as dedupeIntegration,ro as denoContextIntegration,Bu as denoCronIntegration,nn as endSession,Lr as eventFiltersIntegration,Gi as extraErrorDataIntegration,_t as flush,dn as functionToStringIntegration,F as getActiveSpan,h as getClient,E as getCurrentScope,ds as getDefaultIntegrations,He as getGlobalScope,y as getIsolationScope,C as getRootSpan,Gn as getSpanStatusFromHttpCode,Et as getTraceData,Ni as getTraceMetaTags,io as globalHandlersIntegration,mn as inboundFiltersIntegration,Uu as init,Wr as instrumentSupabaseClient,tn as isEnabled,oi as isInitialized,ni as lastEventId,gn as linkedErrorsIntegration,so as normalizePathsIntegration,Fi as requestDataIntegration,Yi as rewriteFramesIntegration,Ko as setContext,Mr as setCurrentClient,Zo as setExtra,Xo as setExtras,We as setHttpStatus,$o as setMeasurement,ei as setTag,Qo as setTags,ti as setUser,Bo as spanToBaggageHeader,I as spanToJSON,kt as spanToTraceHeader,qt as startInactiveSpan,Wo as startNewTrace,si as startSession,he as startSpan,_r as startSpanManual,qi as supabaseIntegration,Vt as suppressTracing,vo as updateSpanName,nt as withIsolationScope,en as withMonitor,U as withScope,ns as wrapMcpServerWithSentry,Vi as zodErrorsIntegration};
